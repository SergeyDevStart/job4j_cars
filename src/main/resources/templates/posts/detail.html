<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet">
    <script th:src="@{/js/jquery-3.7.1.min.js}"></script>
    <script th:src="@{/js/bootstrap.min.js}"></script>

    <title>Post Detailed</title>
</head>
<body>
<div class="container-fluid p-0">
    <header th:insert="~{blocks/header :: header}"></header>
    <div class="container">
        <div class="row justify-content-md-center" style="overflow-x: auto; white-space: nowrap;">
            <div class="d-flex flex-wrap" th:if="${!files.isEmpty()}">
                <figure class="figure m-2" th:each="file : ${files}">
                    <img th:src="@{/files/{fileId}(fileId=${file.getId})}"
                         alt="" width="250px" height="auto" class="img-thumbnail">
                </figure>
            </div>
            <div class="d-flex flex-wrap" th:if="${files.isEmpty()}">
                <img th:src="'/img/alt.png'" alt="Фото отсутствуют"
                     width="450px" height="auto">
            </div>
        </div>
        <div class="container mt-2 mb-2">
            <div class="row">
                <div class="col m-1">
                    <ul>
                        <li><div th:text="'Модель: ' + ${post.brand} + ' - ' + ${post.car.name}"></div></li>
                        <li><div th:text="'Кузов: ' + ${post.car.body}"></div></li>
                        <li><div th:text="'Коробка передач: ' + ${post.car.gearbox}"></div></li>
                        <li><div th:text="'Привод: ' + ${post.car.typeDrive}"></div></li>
                        <li><div th:text="'Тип двигателя: ' + ${post.car.engine.name}"></div></li>
                    </ul>
                    <hr class="col-12" />
                    <div class="col-auto">
                        <h6 class="mt-4">Описание:</h6>
                        <p th:text="${post.description}"></p>
                        <h6>Дата публикации поста: <span th:text="${#temporals.format(post.created, 'dd-MM-yyyy')}"></span></h6>
                        <h6>Статус объявления:
                            <span th:if="${post.status}">
                                <span class="text-danger">● Продано</span>
                            </span>
                            <span th:if="${!post.status}">
                                <span class="text-success">● Продаётся</span>
                            </span>
                        </h6>
                        <h6>Цена: <span th:text="${price}"></span></h6>
                        <h6>Текущий владелец: <span></span></h6>
                    </div>
                </div>
                <div class="col m-1">
                    <div class="col-auto">
                        <h5 class="mt-4">История цен</h5>
                        <table class="table table-bordered table-sm text-center">
                            <thead class="thead-light">
                            <tr>
                                <th>Дата изменения</th>
                                <th>Цена до</th>
                                <th>Цена после</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr th:each="priceHistory : ${post.priceHistories}">
                                <td th:text="${#temporals.format(priceHistory.created, 'dd.MM.yyyy HH:mm')}"></td>
                                <td th:text="${priceHistory.before}"></td>
                                <td th:text="${priceHistory.after}"></td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="col-auto">
                        <h5 class="mt-4">История владельцев</h5>
                        <table class="table table-bordered table-sm text-center">
                            <thead class="thead-light">
                            <tr>
                                <th>Имя владельца</th>
                                <th>Дата начала</th>
                                <th>Дата конца</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr th:each="historyOwner : ${post.car.historyOwners}">
                                <td th:text="${historyOwner.owner.name}"></td>
                                <td th:text="${#temporals.format(historyOwner.history.startAt, 'dd.MM.yyyy HH:mm')}"></td>
                                <td th:text="${#temporals.format(historyOwner.history.endAt, 'dd.MM.yyyy HH:mm')}"></td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer th:insert="~{blocks/footer :: footer}"></footer>
</div>
</body>





<!--<div class="container-fluid p-0">-->
<!--    <header th:insert="~{blocks/header :: header}"></header>-->
<!--    <div class="container">-->
<!--        &lt;!&ndash; Секция с изображениями &ndash;&gt;-->
<!--        <div class="row justify-content-md-center" style="overflow-x: auto; white-space: nowrap;">-->
<!--            <div class="d-flex flex-wrap justify-content-start">-->
<!--                <figure class="figure m-2" th:each="file : ${files}">-->
<!--                    <img th:src="@{/files/{fileId}(fileId=${file.getId})}"-->
<!--                         alt="" width="250px" height="auto" class="img-thumbnail">-->
<!--                </figure>-->
<!--            </div>-->
<!--        </div>-->

<!--        <div class="row">-->
<!--            &lt;!&ndash; Левая колонка &ndash;&gt;-->
<!--            <div class="col-md-4">-->
<!--                    <h2 class="mb-3" th:text="${post.brand} + ' - ' + ${post.car.name}"></h2>-->
<!--                    <ul class="list-unstyled">-->
<!--                        <li><b>Кузов:</b> <span th:text="${post.car.body}"></span></li>-->
<!--                        <li><b>Коробка передач:</b> <span th:text="${post.car.gearbox}"></span></li>-->
<!--                        <li><b>Привод:</b> <span th:text="${post.car.typeDrive}"></span></li>-->
<!--                        <li><b>Двигатель:</b> <span th:text="${post.car.engine.name}"></span></li>-->
<!--                    </ul>-->
<!--                    <h4 class="mt-4">Описание:</h4>-->
<!--                    <p th:text="${post.description}"></p>-->
<!--            </div>-->

<!--            &lt;!&ndash; Правая колонка &ndash;&gt;-->
<!--            <div class="col-md-8">-->
<!--                <h2 class="mb-3" th:text="${post.brand} + ' - ' + ${post.car.name}"></h2>-->
<!--                <ul class="list-unstyled">-->
<!--                    <li><b>Кузов:</b> <span th:text="${post.car.body}"></span></li>-->
<!--                    <li><b>Коробка передач:</b> <span th:text="${post.car.gearbox}"></span></li>-->
<!--                    <li><b>Привод:</b> <span th:text="${post.car.typeDrive}"></span></li>-->
<!--                    <li><b>Двигатель:</b> <span th:text="${post.car.engine.name}"></span></li>-->
<!--                </ul>-->
<!--                <h4 class="mt-4">Описание:</h4>-->
<!--                <p th:text="${post.description}"></p>-->
<!--                <div class="border p-4 rounded">-->
<!--                    <h4 class="mt-4">История цен</h4>-->
<!--                    <table class="table table-bordered table-sm text-center">-->
<!--                        <thead class="thead-light">-->
<!--                        <tr>-->
<!--                            <th>Дата изменения</th>-->
<!--                            <th>Цена до</th>-->
<!--                            <th>Цена после</th>-->
<!--                        </tr>-->
<!--                        </thead>-->
<!--                        <tbody>-->
<!--                        <tr th:each="priceHistory : ${post.priceHistories}">-->
<!--                            <td th:text="${#temporals.format(priceHistory.created, 'dd.MM.yyyy HH:mm')}"></td>-->
<!--                            <td th:text="${priceHistory.before}"></td>-->
<!--                            <td th:text="${priceHistory.after}"></td>-->
<!--                        </tr>-->
<!--                        </tbody>-->
<!--                    </table>-->

<!--                    <h4 class="mt-4">История владельцев</h4>-->
<!--                    <table class="table table-bordered table-sm text-center">-->
<!--                        <thead class="thead-light">-->
<!--                        <tr>-->
<!--                            <th>Имя владельца</th>-->
<!--                            <th>Дата начала</th>-->
<!--                            <th>Дата конца</th>-->
<!--                        </tr>-->
<!--                        </thead>-->
<!--                        <tbody>-->
<!--                        <tr th:each="historyOwner : ${post.car.historyOwners}">-->
<!--                            <td th:text="${historyOwner.owner.name}"></td>-->
<!--                            <td th:text="${#temporals.format(historyOwner.history.startAt, 'dd.MM.yyyy HH:mm')}"></td>-->
<!--                            <td th:text="${#temporals.format(historyOwner.history.endAt, 'dd.MM.yyyy HH:mm')}"></td>-->
<!--                        </tr>-->
<!--                        </tbody>-->
<!--                    </table>-->

<!--                    <div class="mt-4 d-flex justify-content-between">-->
<!--                        <a href="/posts" class="btn btn-secondary btn-sm">Назад к списку</a>-->
<!--                        <a href="/" class="btn btn-primary btn-sm">Подписаться</a>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--    <footer th:insert="~{blocks/footer :: footer}"></footer>-->
<!--</div>-->
</html>
